import streamlit as st

def render_sidebar_4quadrant_guide():
    with st.sidebar.expander("🧭 3사분면 구조 요약", expanded=False):
        st.markdown("""
        **AIoT 스마트 인프라 대시보드**의 3사분면은  
        입력값 → 분석결과 → 인사이트로 이어지는 구조입니다.
        ---
        """)

        # 🧩 입력·시나리오
        st.markdown("### 🧩 입력·시나리오")
        st.markdown("""
        **입력값**
        - 세대수, 평균 전용면적(평)
        - 분양가(만원/㎡), 공사비(만원/㎡)
        - 버스 증편률(%), 인프라 투자비(억원)
        - 분양률, 할인율, 회수기간

        **출력값**
        - 매출액, 공사비, 총이익(억)
        - 마진율(%), 혼잡도 개선율(%)

        **알 수 있는 것**
        - 각 시나리오별 **사업성(수익률) 비교**
        - 교통혼잡도 개선 효과
        """)

        # 📈 민감도
        st.markdown("### 📈 민감도")
        st.markdown("""
        **입력값**
        - 주요 변수: 분양가, 공사비, 버스증편률, 인프라 투자비

        **출력값**
        - NPV(순현재가치) 변화폭 ΔNPV  
        - 민감도 토네이도 차트

        **알 수 있는 것**
        - 어떤 요인이 수익성에 **가장 큰 영향**을 주는지  
        - 리스크 요인(변동성 높은 항목) 파악
        """)

        # 🎲 확률(간이)
        st.markdown("### 🎲 확률(간이)")
        st.markdown("""
        **입력값**
        - 분양가·공사비의 평균값 및 분산(σ)
        - 반복 시뮬레이션 횟수 (예: 500~1000회)

        **출력값**
        - NPV 확률분포 그래프
        - P10 / P50 / P90 시나리오

        **알 수 있는 것**
        - 사업 수익의 **불확실성 및 리스크 분포**
        - 낙관·기준·보수적 결과의 범위
        """)

        # 📤 리포트
        st.markdown("### 📤 리포트")
        st.markdown("""
        **입력값**
        - 각 시나리오 및 시뮬레이션 결과

        **출력값**
        - 표/차트 요약
        - 자동 해석 텍스트 (요약 보고서 형태)

        **알 수 있는 것**
        - 전체 사업성 요약 및 종합 판단  
        - 의사결정 참고용 **결론 도출**
        """)

        st.info("💡 각 탭은 입력값 → 분석 → 인사이트 흐름으로 연결됩니다.")
