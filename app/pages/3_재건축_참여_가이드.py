import streamlit as st

st.set_page_config(page_title="🏗 재건축 참여 가이드", layout="wide")

st.title("🏗 재건축 참여 가이드")
st.caption("건설사 입장에서 본 재건축 절차, 교통·수익성 분석, AIoT 대시보드 활용 전략을 정리했습니다.")
st.markdown("---")

# 1️⃣ 재건축 사업 참여 절차 요약
st.header("1️⃣ 재건축 사업 참여 절차 요약")
st.markdown("""
재건축 사업은 조합과 지자체, 그리고 건설사가 단계적으로 협력하는 구조입니다.  
건설사는 ‘시공사 선정 단계’ 이전에도 **데이터 기반의 사전 준비**를 통해 경쟁력을 확보할 수 있습니다.
""")

st.markdown("""
| 단계 | 주체 | 건설사 역할 | 주요 참고 포인트 |
|------|------|--------------|------------------|
| 정비구역 지정 | 지자체(서울시·구청) | 잠재 후보지 분석, 주변 교통·인프라 조사 | 구역별 데이터 확보 (위치·세대수·용적률 등) |
| 추진위 승인 | 추진위원회 | 사업성 검토, 시장성 분석 | 정비계획·도시관리계획 검토 |
| 조합 설립 | 조합 | 내부 TF 구성, 입지분석 자료 준비 | 조합원 구성비·평형 계획 참고 |
| 입찰공고 | 조합 | 제안서 작성 및 제출 | 교통, 환경, 수익성 데이터를 포함 |
| 시공사 선정 총회 | 조합 | 프레젠테이션·비교표 작성 | 대시보드 기반 교통/KPI 자료 활용 |
| 사업시행인가 이후 | 조합·시공사 | 교통영향평가·기본설계 반영 | 실제 교통개선 계획 제출 |
""")

st.markdown("---")

# 2️⃣ 법적 제약선 내 사전준비 가능 범위
st.header("2️⃣ 법적 제약선 내 사전준비 가능 범위")
st.markdown("""
「도시 및 주거환경정비법」에 따라 시공사는 조합 설립 전후로 활동 범위가 엄격히 구분됩니다.

- 🏙 **조합 설립 전**  
  - 금전 제공, 홍보행위는 금지  
  - 가능: 사업성 분석, 교통·입지 데이터 수집, 내부 투자심사  

- 🏗 **조합 설립 후**  
  - 가능: 시공사 참여 의향 제시, 기술 제안 준비, 수익·교통 시뮬레이션  
  - 불가: 사전홍보, 우회계약 등 불공정 행위  

- 📑 **입찰공고 이후**  
  - 공식 제안서 제출 가능  
  - 대시보드 기반 KPI, 교통개선 효과 등을 정량 근거로 포함하면 경쟁력 강화
""")

st.info("💡 즉, 법적으로 제약이 있어도 ‘데이터 기반 내부 검토’는 완전히 합법적이며, "
        "이때 AIoT 대시보드를 활용해 입지·교통·수익성을 사전에 정량화할 수 있습니다.")

st.markdown("---")

# 3️⃣ 대시보드 활용 포인트
st.header("3️⃣ 대시보드 활용 포인트")
st.markdown("""
AIoT 대시보드는 단순한 시각화 도구가 아니라,  
**시공사 제안서의 근거 데이터**와 **교통영향평가 대응 시뮬레이터**로 활용할 수 있습니다.
""")

st.markdown("""
| 활용 시점 | 주요 기능 | 기대 효과 |
|------------|------------|------------|
| 조합 설립 후 | 주변 교통혼잡 및 대중교통 접근성 분석 | 사업지 입지 경쟁력 확보 |
| 입찰 준비 | KPI 기반 수익·혼잡도 시뮬레이션 | 제안서 차별화, 설득력 강화 |
| 사업시행 인가 협의 | 개선 시나리오(버스 증차, 신호개선 등) 제시 | 행정 인허가 지연 리스크 감소 |
| 공사 이후 | AIoT 교통 데이터 실시간 피드백 | 스마트건설, ESG 보고 근거 |
""")

st.markdown("---")

# 4️⃣ KPI와 의사결정의 연결
st.header("4️⃣ KPI와 의사결정의 연결")
st.markdown("""
KPI는 단순한 지표가 아니라 **사업 리스크를 조기 탐지하고 개선안을 수립**하는 데 쓰입니다.

| KPI 항목 | 의미 | 활용 예시 |
|-----------|--------|-----------|
| 평균 혼잡도(%) | 사업 전후 도로 포화 정도 | 교통개선 시나리오의 효과 검증 |
| 총 기대 수익(십억 원) | 평형/세대수 변경 시의 예상 수익 | 사업성 민감도 분석 |
| 대중교통 접근성 지수 | 버스·지하철 반경 내 정류장 수 | 생활권 접근성 평가 |
| 개선 필요 구간 수 | 혼잡도 70% 이상 링크 수 | 지자체 협의용 근거 데이터 |
""")

st.markdown("""
> **Tip:** KPI는 인허가 기관과의 협의에서 ‘왜 이 구간의 교통개선이 필요한가’를 설명하는 정량적 언어로 활용됩니다.
""")

st.markdown("---")

# 5️⃣ 교통개선 시뮬레이션과 부담금 연계
st.header("5️⃣ 교통개선 시뮬레이션과 행정 협의")
st.markdown("""
교통혼잡도가 직접 법정 부담금 산식에 반영되진 않지만,  
**인허가 협의 시 행정기관이 요구하는 교통개선 조건을 설정하는 참고자료**로 활용됩니다.

예를 들어:
- 🚍 혼잡도 70% 이상 구간이 많을 경우 → 버스노선 증설 또는 정류장 확충  
- 🚦 특정 교차로에서 혼잡빈도강도가 높을 경우 → 신호주기 조정·우회로 확보  
- 🏗 조합 및 시공사 → 교통개선 분담금 일부 부담  
- 🏛 지자체 → 해당 지역 교통개선사업 예산 반영  

결과적으로 대시보드는 **“교통개선비 합리화 + 인허가 지연 방지”**라는 두 가지 실익을 제공합니다.  
즉, 과도한 교통개선비가 산정되지 않도록 사전 데이터를 제시하고, 협의 절차를 원활히 진행할 수 있습니다.
""")

st.markdown("---")

# 6️⃣ AIoT 대시보드 실제 활용 시나리오
st.header("6️⃣ AIoT 대시보드 실제 활용 시나리오")
st.markdown("""
1. **입지 선택 단계**  
   - 서울시 도로망 + 정비사업 데이터를 불러와 사업지 후보 필터링  
   - 혼잡도 50% 이하 지역을 우선 검토  

2. **제안서 작성 단계**  
   - 세대수·평형·버스 접근성 파라미터 입력  
   - KPI 계산 및 PDF 리포트 생성  

3. **인허가 대응 단계**  
   - 혼잡도 > 70% 구간 자동 표시  
   - 교통개선안(노선 증설·신호 최적화) 제시  

4. **준공 후 모니터링 단계**  
   - AIoT 교통센서 연동 시, 실시간 혼잡도 추적 가능  
   - 향후 ESG 보고서나 기술제안 입찰에 활용
""")

st.success("✅ 이 대시보드는 단순한 시각화 도구가 아니라, "
           "재건축 사업의 **데이터 기반 의사결정 플랫폼**으로 설계되었습니다.")
